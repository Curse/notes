(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(n,e,t){n.exports=t.p+"static/media/sheet-bg.c15c3d90.png"},137:function(n,e,t){n.exports=t(274)},274:function(n,e,t){"use strict";t.r(e);var r={};t.r(r),t.d(r,"SET_NOTE",function(){return w}),t.d(r,"START_SYNC",function(){return k}),t.d(r,"STOP_SYNC",function(){return E});var a={};t.r(a),t.d(a,"black",function(){return Yn}),t.d(a,"primary",function(){return Fn}),t.d(a,"primaryLight",function(){return Hn}),t.d(a,"primaryDark",function(){return Jn}),t.d(a,"highlight",function(){return Un});var o=t(47),c=t(12),i=t(22),u=t(0),s=t.n(u),l=t(19),p=t(45),d=t(39),f=t(20),b=t(80),h=t(61),m=t(27),g=t(21),v=Object(g.a)({basename:"/notes"}),x="auth:SET_USER",O={user:null};var j=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:return Object(m.a)({},n,{user:e.payload.user});default:return n}},y=t(56),w="notes:SET_NOTE",k="notes:START_SYNC",E="notes:STOP_SYNC",S=t(57),C=t.n(S),R={home:"This is a simple note taking app.\n\n    Prepend any world with @ to create a new page, like @this.\n\n    The entire page is editable, apart from the Home link at the top.",this:"Isn't this easy?"};var T=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return function(n,e){var t=e.id,r=e.label,a=e.content;return Object(m.a)({},n,Object(y.a)({},C()(r),{id:t,content:a}))}(n,e.payload);default:return n}};var I=t(15),A=t.n(I),D=t(17),N=t(60),_=t(29),P=t.n(_),z=t(36),L=Object(z.a)([function(n){return n.auth}],function(n){return n.user}),B=function(n){var e=n.label,t=n.content,r=n.id,a=void 0===r?null:r,o=n.persist;return{type:w,payload:{id:a,label:e,content:t,persist:void 0===o||o}}},K=A.a.mark(U),W=A.a.mark(Q),Y=A.a.mark(V),F=A.a.mark(q),H=A.a.mark(G),J=[].concat(Object(N.a)(Object.values(r)),[x]);function U(n){var e;return A.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=P.a.firestore(),n.abrupt("return",Object(h.b)(function(n){var t=e.collection("notes").onSnapshot(function(e){e.docChanges().forEach(function(e){return n({id:e.doc.id,data:e.doc.data()})})});return function(){t.off()}}));case 2:case"end":return n.stop()}},K)}function Q(){var n,e,t,r,a;return A.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(D.f)(L);case 2:if(n=o.sent){o.next=5;break}return o.abrupt("return");case 5:return o.next=7,Object(D.b)(U,n);case 7:e=o.sent;case 8:return o.prev=9,o.next=12,Object(D.h)(e);case 12:return t=o.sent,r=t.id,a=t.data,o.next=17,Object(D.e)(B(Object(m.a)({id:r},a,{persist:!1})));case 17:o.next=22;break;case 19:o.prev=19,o.t0=o.catch(9),console.log("firebase error",o.t0);case 22:o.next=8;break;case 24:case"end":return o.stop()}},W,null,[[9,19]])}function V(n){var e,t,r,a,o;return A.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return e=n.id,t=n.label,r=n.content,c.next=3,Object(D.f)(L);case 3:if(a=c.sent){c.next=6;break}return c.abrupt("return");case 6:if(o=P.a.firestore(),e){c.next=12;break}return c.next=10,o.collection("notes").add({owner:a.uid,label:t,content:r});case 10:c.next=13;break;case 12:o.collection("notes").doc(e).get().then(function(n){n.ref.update({label:t,content:r})});case 13:case"end":return c.stop()}},Y)}function q(n){var e,t,r;return A.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=n.type,t=n.payload,a.t0=e,a.next=a.t0===x?4:a.t0===w?12:16;break;case 4:return a.next=6,Object(D.d)(Q);case 6:return r=a.sent,a.next=9,Object(D.h)(E);case 9:return a.next=11,Object(D.c)(r);case 11:return a.abrupt("break",16);case 12:if(!t.persist){a.next=15;break}return a.next=15,Object(D.b)(V,t);case 15:return a.abrupt("break",16);case 16:case"end":return a.stop()}},F)}function G(){return A.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(D.i)(J,q);case 2:case"end":return n.stop()}},H)}var X=A.a.mark(M);function M(){var n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[G],e.next=3,Object(D.a)(n.map(function(n){return Object(D.g)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Object(D.b)(n);case 4:return e.abrupt("break",12);case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:e.next=0;break;case 12:case"end":return e.stop()}},e,null,[[1,7]])}))}));case 3:case"end":return e.stop()}},X)}var Z=Object(h.a)();var $=t(126),nn=t.n($),en=t(11);function tn(){var n=Object(c.a)(["\n  width: 100%;\n  max-width: 400px;\n  margin-left: 10px;\n  margin-right: 10px;\n  background-color: white;\n  border-radius: 4px;\n  padding: 10px;\n"]);return tn=function(){return n},n}function rn(){var n=Object(c.a)(["\n  width: 100%;\n  min-height: 100vh;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return rn=function(){return n},n}var an={signInFlow:"popup",signInOptions:[P.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},on=en.c.div(rn(),function(n){return n.theme.primaryDark}),cn=en.c.div(tn());var un=function(n){return s.a.createElement(on,null,s.a.createElement(cn,null,s.a.createElement("h1",null,"Notes App"),s.a.createElement("p",null,"Please sign-in:"),s.a.createElement(nn.a,{uiConfig:an,firebaseAuth:P.a.auth()})))},sn=Object(i.c)(function(n){return{user:L(n)}})(function(n){var e=n.user,t=n.children;return e?t:s.a.createElement(un,null)}),ln=t(91),pn=t(135),dn=function(n){return n.notes},fn=Object(z.a)([dn],function(n){return Object.keys(n).sort()}),bn=Object(z.a)([dn],function(n){return Object.keys(n).reduce(function(e,t){return[].concat(Object(N.a)(e),[{id:n[t].id,display:t}])},[])}),hn=Object(z.a)([fn],function(n){var e={home:"".concat("/notes","/")},t=Object.keys(e);return n.map(function(n){return t.includes(n)?{label:n,path:e[n]}:{label:n,path:"".concat("/notes","/p/").concat(n,"/")}})}),mn=t(1);function gn(){var n=Object(c.a)(["\n    position: relative;\n    width: 100%;\n\n    .react-autosuggest__container {\n        background-color: red;\n        position: relative;\n    }\n"]);return gn=function(){return n},n}var vn=en.c.div(gn()),xn={menu:function(n){return Object(m.a)({},n,{marginTop:0})}},On=Object(i.c)(function(n){return{labels:fn(n),paths:hn(n)}},function(n){return Object(f.b)({navigate:function(n){return Object(mn.d)(n)}},n)})(function(n){var e=n.paths,t=n.navigate,r=s.a.useRef(null),a=e.map(function(n){return{value:n.path,label:"@".concat(n.label)}});return s.a.useEffect(function(){var n=function(n){n.shiftKey&&n.ctrlKey&&"F"===n.key&&r.current.focus()};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}},[]),s.a.createElement(vn,null,s.a.createElement(pn.a,{ref:r,value:"",onChange:function(n){return t(n.value)},options:a,className:"bbbababb",placeholder:"Jump to a note stub",styles:xn}))});function jn(){var n=Object(c.a)(["\n    width: 30px;\n    height: 30px;\n    margin-right: 10px;\n    border-radius: 50%;\n"]);return jn=function(){return n},n}function yn(){var n=Object(c.a)(["\n    display: flex;\n    align-items: center;\n    border-radius: 3px;\n    border: none;\n    cursor: pointer;\n    margin-left: 4px;\n    padding: 4px;\n    transition: color 80ms, background-color 80ms;\n    color: ",";\n    background-color: ","; \n\n    &:hover,\n    &:focus,\n    &:active {\n        color: white;\n        background-color: ",";        \n    }\n"]);return yn=function(){return n},n}function wn(){var n=Object(c.a)(["\n    width: 100%;\n    display: flex;\n    padding: 5px;\n    flex-direction: row;\n"]);return wn=function(){return n},n}var kn=en.c.div(wn()),En=(en.c.button(yn(),function(n){return n.theme.black},function(n){var e=n.theme;return Object(ln.a)(e.primary,0)},function(n){var e=n.theme;return Object(ln.a)(e.primary,1)}),en.c.img(jn()),Object(i.c)(function(n){return{user:L(n)}})(function(n){n.user;return s.a.createElement(kn,null,s.a.createElement(On,null))})),Sn=t(82),Cn=function(n){var e=n.text,t=/@\[?(\w+)]?/;return e.split(/(@\[?\w+]?\(?\w+\)?)/).map(function(n,e){return n.startsWith("@")&&(n="@".concat(n.match(t)[1])),n.startsWith("@")?s.a.createElement(Sn.a,{contentEditable:!1,to:"".concat("/notes","/p/")+n.slice(1),onFocus:function(n){return n.stopPropagation()},key:e},n):n})},Rn=t(90),Tn={control:{},highlighter:{overflow:"hidden"},input:{margin:0},"&singleLine":{control:{display:"inline-block",width:130},highlighter:{padding:1,border:"2px inset transparent"},input:{padding:1,border:"2px inset"}},"&multiLine":{control:{},highlighter:{padding:9},input:{padding:0,minHeight:63,outline:0,border:0}},suggestions:{list:{backgroundColor:"white",border:"1px solid rgba(0,0,0,0.15)",fontSize:14},item:{padding:"5px 15px",borderBottom:"1px solid rgba(0,0,0,0.15)","&focused":{backgroundColor:"#cee4e5"}}}};function In(){var n=Object(c.a)(["\n    margin: 10px 0 0 0;\n    font-family: 'Roboto Condensed', sans-serif;\n    font-size: 16px;\n    font-weight: 700;\n"]);return In=function(){return n},n}function An(){var n=Object(c.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  pointer-events: none;\n  \n  a {\n    pointer-events: all;\n  }\n"]);return An=function(){return n},n}function Dn(){var n=Object(c.a)(["\n  position:absolute;\n  top: 0;\n  right: 0;\n  opacity: 0.5;\n  &:hover,\n  &:focus {\n    opacity: 1;\n  }\n"]);return Dn=function(){return n},n}function Nn(){var n=Object(c.a)(["\n    outline: none;\n    position: relative;\n    width: 100%;\n    font-size: 14px;\n    width: 100%;\n    \n    \n"]);return Nn=function(){return n},n}function _n(){var n=Object(c.a)(["\n    padding: 0 5px;\n    \n    .editor {\n      opacity: 0;\n    }\n    &.editing .editor{\n      opacity: 1;\n    }\n"]);return _n=function(){return n},n}var Pn=en.c.div(_n()),zn=en.c.div(Nn()),Ln=en.c.button(Dn()),Bn=en.c.div(An()),Kn=en.c.h2(In()),Wn=Object(i.c)(function(n,e){var t;return{note:(t=e.name,Object(z.a)([dn],function(n){return n[C()(t)]}))(n),suggestions:bn(n)}},function(n,e){return Object(f.b)({setContent:function(n,t){return B({label:e.name,id:n,content:t})}},n)})(function(n){var e=n.name,t=n.note,r=n.suggestions,a=n.setContent,c=t||{},i=c.id,u=void 0===i?null:i,l=c.content,p=void 0===l?"Type here...":l,d=s.a.useState(!1),f=Object(o.a)(d,2),b=f[0],h=f[1],m=s.a.useState(p),g=Object(o.a)(m,2),v=g[0],x=g[1],O=s.a.useRef(null);s.a.useEffect(function(){x(p)},[p]);var j=function(){var n=v;h(!1),n!==p&&a(u,n)};return s.a.createElement(Pn,{className:b?"editing":""},s.a.createElement(Kn,null,e),s.a.createElement(zn,null,s.a.createElement(Rn.b,{key:"editable-content",value:v,onChange:function(n){return x(n.target.value)},style:Tn,onKeyDown:function(n){return"Escape"===n.key?(h(!1),!1):n.ctrlKey&&"Enter"===n.key?(j(),!1):void 0},onClick:function(n){h(!0)},inputRef:O,className:"editor"},s.a.createElement(Rn.a,{trigger:"@",data:r,displayTransform:function(n,e){return"@".concat(e)}})),!b&&s.a.createElement(Bn,null,s.a.createElement("div",{contentEditable:!0,suppressContentEditableWarning:!0},s.a.createElement(Cn,{text:p}))),b&&s.a.createElement(Ln,{onClick:function(){return j()}},"Save")))}),Yn="#212121",Fn="#1976d2",Hn="#63a4ff",Jn="#004ba0",Un="#b59e54",Qn=t(131),Vn=t(132),qn=t(133),Gn=t(134),Xn=t.n(Gn);t(272);function Mn(){var n=Object(c.a)(["\n  background-color: ",";\n  font-family: 'Roboto Condensed', sans-serif;\n  color: white;\n  padding: 5px 10px 5px;\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n"]);return Mn=function(){return n},n}function Zn(){var n=Object(c.a)(["\n  background-color: #fff;\n  min-height: 100vh;\n  \n  @media (min-width: 800px) {\n    min-height: auto;\n    position: fixed;\n    bottom: 0;\n    right: 30px;\n    \n    border-color: ",";\n    border-style: solid;\n    border-width: 3px;\n    border-bottom: 0;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, .3);\n    height: 31px;\n    width: 180px;\n      &.open {\n        height: 400px;\n        width: 450px;\n      }\n  }\n  \n"]);return Zn=function(){return n},n}function $n(){var n=Object(c.a)(["\n  font-family: 'Roboto', sans-serif;\n"]);return $n=function(){return n},n}function ne(){var n=Object(c.a)(['\n  @import url("https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed&display=swap");\n\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    background-position: center top;\n    @media (min-width: 800px) {\n      background-image: url(',");\n    }\n  }\n  \n"]);return ne=function(){return n},n}var ee=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,t=[Z,Object(b.a)(e)],r=[f.a.apply(void 0,t)],a=f.d,o=Object(f.e)(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(Object(m.a)({router:Object(d.b)(v),auth:j,notes:T},n))}(),n,a.apply(void 0,r));return Z.run(M),o}({},v);P.a.initializeApp({apiKey:"AIzaSyBR2o33lqBdQsoHD4X1uppI93k2fVDeQsw",authDomain:"curse-notes.firebaseapp.com",databaseURL:"https://curse-notes.firebaseio.com",projectId:"curse-notes",storageBucket:"curse-notes.appspot.com",messagingSenderId:"715608577655",appId:"1:715608577655:web:b80968c875c4d3a1601872"}),P.a.auth().onAuthStateChanged(function(n){return ee.dispatch(function(n){return{type:x,payload:{user:n}}}(n))});var te=Object(en.b)(ne(),Xn.a),re=en.c.div($n()),ae=en.c.div(Zn(),function(n){return n.theme.highlight}),oe=en.c.div(Mn(),function(n){return n.theme.highlight}),ce=function(n){n.match;return s.a.createElement(Wn,{name:"home"})},ie=function(n){var e=n.match;return s.a.createElement(Wn,{name:e.params.pageId})},ue=document.getElementById("root");Object(l.render)(s.a.createElement(function(){var n=s.a.useState(!0),e=Object(o.a)(n,2),t=e[0],r=e[1];return s.a.createElement(en.a,{theme:a},s.a.createElement(i.a,{store:ee},s.a.createElement(re,null,s.a.createElement(te,null),s.a.createElement(sn,null,s.a.createElement(ae,{className:t?"open":""},s.a.createElement(oe,{onClick:function(){return r(!t)}},"Road to Redemption",s.a.createElement(Qn.a,{icon:t?qn.faAngleDoubleDown:Vn.faAngleDoubleUp})),s.a.createElement(En,null),s.a.createElement(d.a,{history:v},s.a.createElement(p.a,{exact:!0,path:"".concat("/notes","/"),component:ce}),s.a.createElement(p.a,{path:"".concat("/notes","/p/:pageId"),component:ie})))))))},null),ue)}},[[137,2,1]]]);
//# sourceMappingURL=main.fa53a560.chunk.js.map